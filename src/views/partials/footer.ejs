<footer class="footer footer-center bg-base-200 text-base-content p-6 border-t border-base-300">
  <aside>
    <p>© <%= new Date().getFullYear() %> Leo Atienza — Built with Express, EJS, Tailwind, daisyUI & Sequelize.</p>
    <p>
      <a class="link link-hover" href="mailto:leooatienza@gmail.com">leooatienza@gmail.com</a>
    </p>
  </aside>
</footer>

<!-- Enforce off-site link safety: open in new tab + safe rel -->
<script>
  (function () {
    try {
      var links = document.querySelectorAll('a[href]');
      var here = window.location;
      links.forEach(function (a) {
        var href = a.getAttribute('href') || '';

        // Skip internal anchors, mailto, tel, javascript, and root-relative/internal links
        if (
          href.startsWith('#') ||
          href.startsWith('mailto:') ||
          href.startsWith('tel:') ||
          href.startsWith('javascript:') ||
          href.startsWith('/') ||
          href.startsWith(here.origin)
        ) return;

        // External: open safely in new tab
        a.setAttribute('target', '_blank');
        var existingRel = (a.getAttribute('rel') || '').toLowerCase();
        var needed = ['noreferrer', 'noopener'];
        needed.forEach(function (token) {
          if (!existingRel.includes(token)) existingRel += (existingRel ? ' ' : '') + token;
        });
        a.setAttribute('rel', existingRel.trim());
      });
    } catch (e) {
      // no-op
    }
  })();
</script>